/* ===================== Modal base ===================== */
.modal-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.5);
  display:flex; align-items:center; justify-content:center;
  z-index:1000; padding:20px;
}
.modal-content{
  background:#fff; border-radius:12px; width:100%; max-width:800px;
  max-height:90vh; overflow-y:auto; box-shadow:0 25px 50px -12px rgba(0,0,0,.25);
}
.modal-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:20px 24px; border-bottom:1px solid #e5e7eb; background:#f9fafb; border-radius:12px 12px 0 0;
}
.modal-title{ display:flex; align-items:center; gap:8px; font-size:18px; font-weight:600; color:#1f2937;}
.pernoite-icon{ font-size:20px; }
.edit-data-btn{ background:#3b82f6; color:#fff; border:none; border-radius:6px; padding:8px 12px; font-size:14px; cursor:pointer; transition:.2s;}
.edit-data-btn:hover{ background:#2563eb; }
.modal-body{ padding:0; }

/* ===================== Seções genéricas ===================== */
section{ padding:20px 24px; border-bottom:1px solid #f3f4f6; }
section:last-child{ border-bottom:none; }
section h3{ margin:0 0 16px 0; font-size:16px; font-weight:600; color:#1f2937; }

.section-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:16px; }
.section-header h3{ margin:0; }

.add-btn,.add-daily-btn{
  background:#3b82f6; color:#fff; border:none; border-radius:6px; padding:8px 12px; font-size:14px; cursor:pointer; transition:.2s;
}
.add-btn:hover,.add-daily-btn:hover{ background:#2563eb; }

/* ===================== Seção de Dados ===================== */
.data-grid{ display:flex; flex-direction:column; gap:12px; }
.data-row{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:20px; }
.data-item{ display:flex; flex-direction:column; gap:6px; }
.data-item label{ font-size:14px; font-weight:500; color:#6b7280; }
.data-item span{ font-size:14px; color:#1f2937; }

.calculated-days{ font-weight:600; }

/* ===================== Divisórias coloridas por seção ===================== */
.section-divider{
  color:#fff; padding:16px 24px; margin:0 -24px; position:relative;
}

.section-divider.daily{
  background:linear-gradient(135deg,#3b82f6,#1d4ed8);
}

.section-divider.guests{
  background:linear-gradient(135deg,#10b981,#059669);
}

.section-divider.consumption{
  background:linear-gradient(135deg,#f59e0b,#d97706);
}

.section-divider.payments{
  background:linear-gradient(135deg,#8b5cf6,#7c3aed);
}

.section-divider h2{ margin:0; font-size:16px; font-weight:600; text-align:center; text-shadow:0 1px 3px rgba(0,0,0,.3); }
.section-divider::before{
  content:""; position:absolute; inset:0;
  background:
    linear-gradient(45deg,rgba(255,255,255,.1) 25%,transparent 25%),
    linear-gradient(-45deg,rgba(255,255,255,.1) 25%,transparent 25%),
    linear-gradient(45deg,transparent 75%,rgba(255,255,255,.1) 75%),
    linear-gradient(-45deg,transparent 75%,rgba(255,255,255,.1) 75%);
  background-size:20px 20px; background-position:0 0,0 10px,10px -10px,-10px 0;
  opacity:.3;
}

/* ===================== Diárias ===================== */
.daily-header{ display:flex; align-items:center; gap:12px; margin-bottom:16px; }
.no-dailies-hint{ font-size:14px; color:#6b7280; }

/* layout de infos (esq: valores, dir: quarto/pessoas) */
.daily-info-grid{ display:grid; grid-template-columns:1fr 1fr; gap:16px; }
.daily-left,.daily-right{ display:flex; flex-direction:column; gap:10px; }
.info-item{ display:flex; align-items:center; justify-content:space-between; }
.info-item label{ font-size:14px; color:#6b7280; }
.info-item span{ font-size:14px; font-weight:600; color:#111827; }
.info-item.total span{ font-size:16px; font-weight:700; }

/* ===================== Resumo / Progresso de Pagamento ===================== */
.payment-summary{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; margin-top:16px; }
.summary-card{ border-radius:12px; padding:14px 16px; display:flex; flex-direction:column; gap:4px; }
.summary-card .summary-title{ font-size:12px; text-transform:uppercase; letter-spacing:.04em; opacity:.9; font-weight:600; }
.summary-card .summary-value{ font-size:20px; font-weight:800; }
.summary-card.paid{ background:#ecfdf5; border:1px solid #16a34a; color:#065f46; }
.summary-card.pending{ background:#fff7ed; border:1px solid #f59e0b; color:#7c2d12; }

.payment-progress{ margin-top:8px; }
.payment-progress-track{ height:10px; background:#eef2f7; border-radius:999px; overflow:hidden; }
.payment-progress-bar{ height:100%; background:linear-gradient(90deg,#16a34a,#22c55e); }
.payment-progress-labels{ display:flex; justify-content:space-between; margin-top:6px; font-size:12px; color:#6b7280; }
.payment-progress-labels .pct{ color:#065f46; font-weight:700; }
.payment-progress-labels .total{ color:#374151; font-weight:600; }

/* ===================== Hóspedes ===================== */
.guests-list{ display:flex; flex-direction:column; gap:12px; }
.guest-card{ display:flex; align-items:center; gap:12px; padding:12px 16px; border:1px solid #e5e7eb; border-radius:8px; background:#f9fafb; }
.guest-avatar{ width:40px; height:40px; border-radius:50%; background:#e5e7eb; display:flex; align-items:center; justify-content:center; font-size:20px; }
.guest-info{ flex:1; }
.guest-info h4{ margin:0 0 4px 0; font-size:14px; font-weight:500; color:#1f2937; }
.guest-info p{ margin:0; font-size:12px; color:#6b7280; }
.guest-actions{ display:flex; gap:12px; align-items:center; }
.titular-badge{ background:#3b82f6; color:#fff; padding:4px 8px; border-radius:4px; font-size:12px; font-weight:500; }
.action-link{ background:none; border:none; font-size:12px; cursor:pointer; text-decoration:underline; padding:0; }
.action-link.titular{ color:#3b82f6; } .action-link.remove{ color:#ef4444; }

/* ===================== Consumo & Pagamentos (listas) ===================== */
.consumption-list,.payments-list{ display:flex; flex-direction:column; gap:8px; }
.consumption-item,.payment-item{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 16px; background:#f9fafb; border-radius:6px;
}
.consumption-info,.payment-info{ display:flex; flex-direction:column; gap:4px; }
.consumption-name,.payment-type{ font-size:14px; font-weight:500; color:#1f2937; }
.consumption-date,.payment-date{ font-size:12px; color:#6b7280; }
.consumption-value,.payment-value{ font-size:14px; font-weight:700; color:#1f2937; }
.payment-info{ flex:1; text-align:left; }
.payment-value{ margin-left:auto; }

/* ===================== Footer ===================== */
.modal-footer{
  display:flex; justify-content:space-between; padding:20px 24px;
  border-top:1px solid #e5e7eb; background:#f9fafb; border-radius:0 0 12px 12px;
}
.cancel-reservation-btn{ background:#ef4444; color:#fff; border:none; border-radius:6px; padding:10px 20px; font-size:14px; font-weight:500; cursor:pointer; transition:.2s; }
.cancel-reservation-btn:hover{ background:#dc2626; }
.finalize-btn{ background:#10b981; color:#fff; border:none; border-radius:6px; padding:10px 20px; font-size:14px; font-weight:500; cursor:pointer; transition:.2s; }
.finalize-btn:hover{ background:#059669; }

/* ===================== Modern Date Picker ===================== */
.mdp-wrapper{ position:relative; width:220px; }
.mdp-input{
  width:100%; display:flex; justify-content:space-between; align-items:center;
  padding:8px 12px; border:1px solid #d1d5db; border-radius:8px; background:#fff; font-size:14px; cursor:pointer;
}
.mdp-input:hover{ border-color:#9ca3af; }
.mdp-icon{ opacity:.8; }
.mdp-popover{
  position:absolute; top:calc(100% + 6px); left:0; background:#fff; z-index:1200;
  border:1px solid #e5e7eb; border-radius:12px; width:260px; box-shadow:0 12px 30px rgba(0,0,0,.12); padding:10px;
}
.mdp-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.mdp-title{ font-weight:600; color:#111827; }
.mdp-nav{ border:none; background:#f3f4f6; width:28px; height:28px; border-radius:8px; cursor:pointer; }
.mdp-week{ display:grid; grid-template-columns:repeat(7,1fr); gap:4px; margin-bottom:6px; }
.mdp-weekcell{ font-size:12px; text-align:center; color:#6b7280; }
.mdp-grid{ display:grid; grid-template-columns:repeat(7,1fr); gap:4px; }
.mdp-cell{ height:34px; border-radius:8px; border:none; background:#f9fafb; cursor:pointer; font-size:14px; }
.mdp-cell:hover{ background:#eef2ff; }
.mdp-cell.selected{ background:#3b82f6; color:#fff; }
.mdp-cell:disabled{ opacity:.35; cursor:not-allowed; }
.mdp-cell.empty{ background:transparent; cursor:default; }

/* ===================== Modern Time Picker (24h) ===================== */
.mtp-wrapper{ position:relative; width:160px; }
.mtp-input{
  width:100%; display:flex; justify-content:space-between; align-items:center;
  padding:8px 12px; border:1px solid #d1d5db; border-radius:8px; background:#fff; font-size:14px; cursor:pointer;
}
.mtp-input:hover{ border-color:#9ca3af; }
.mtp-icon{ opacity:.8; }
.mtp-popover{
  position:absolute; top:calc(100% + 6px); left:0; background:#fff; z-index:1200;
  border:1px solid #e5e7eb; border-radius:12px; width:280px; box-shadow:0 12px 30px rgba(0,0,0,.12); padding:10px;
}
.mtp-columns{ display:flex; gap:12px; }
.mtp-col{ flex:1; }
.mtp-col-title{ font-size:12px; color:#6b7280; margin:4px 0 8px; }
.mtp-grid{ display:grid; grid-template-columns:repeat(6,1fr); gap:6px; }
.mtp-cell{ height:32px; border:none; border-radius:8px; background:#f9fafb; cursor:pointer; font-size:14px; }
.mtp-cell:hover{ background:#eef2ff; }
.mtp-cell.selected{ background:#3b82f6; color:#fff; }
.mtp-footer{ margin-top:8px; font-size:12px; color:#6b7280; text-align:right; }

/* ===================== Modern ComboBox ===================== */
.mcb-wrapper{ position:relative; width:360px; max-width:100%; }
.mcb-input{
  width:100%; display:flex; align-items:center; gap:8px; justify-content:space-between;
  padding:10px 12px; border:1px solid #d1d5db; border-radius:10px; background:#fff; cursor:pointer; font-size:14px; transition:border-color .2s, background-color .2s;
}
.mcb-input:hover{ border-color:#9ca3af; }
.mcb-input.current{ border-color:#16a34a; background:#ecfdf5; } /* destaque quando diária atual */
.mcb-text{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; color:#111827; }
.mcb-caret{ margin-left:8px; color:#6b7280; }
.mcb-badge{ background:#16a34a; color:#fff; border-radius:999px; padding:2px 8px; font-size:11px; margin-left:8px; }

.mcb-popover{
  position:absolute; top:calc(100% + 6px); left:0; right:0; background:#fff; z-index:1300;
  border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 12px 30px rgba(0,0,0,.12); padding:8px;
  max-height:300px; display:flex; flex-direction:column;
}
.mcb-search{ border:1px solid #e5e7eb; border-radius:8px; padding:8px 10px; font-size:14px; margin-bottom:8px; }
.mcb-list{ overflow:auto; display:grid; gap:6px; }
.mcb-option{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:8px 10px; border:none; border-radius:8px; background:#f9fafb; cursor:pointer; text-align:left; font-size:14px;
}
.mcb-option:hover{ background:#eef2ff; }
.mcb-option.selected{ background:#dbeafe; border:1px solid #3b82f6; }
.mcb-option.current{ background:#dcfce7; border:1px solid #16a34a; color:#065f46; }
.mcb-option.current:hover{ background:#bbf7d0; }
.mcb-empty{ text-align:center; color:#6b7280; padding:10px 0; }

/* ===================== Estilos para botões de ação ===================== */
.edit-actions{ display:flex; gap:8px; margin-top:16px; }
.save-btn{ background:#10b981; color:#fff; border:none; border-radius:6px; padding:8px 16px; cursor:pointer; }
.cancel-btn{ background:#6b7280; color:#fff; border:none; border-radius:6px; padding:8px 16px; cursor:pointer; }

/* ===================== Responsividade ===================== */
@media (max-width:768px){
  .modal-overlay{ padding:10px; }
  .modal-header{ flex-direction:column; gap:12px; align-items:flex-start; }
  .data-row{ grid-template-columns:1fr; gap:12px; }
  .daily-header{ flex-direction:column; align-items:flex-start; gap:8px; }
  .daily-info-grid{ grid-template-columns:1fr; }
  .payment-summary{ grid-template-columns:1fr; }
  .guest-card{ flex-direction:column; align-items:flex-start; gap:8px; }
  .modal-footer{ flex-direction:column; gap:12px; }
}